<div class="container">

	<div class="col-xs-12 ">


		<div class="col-xs-12 col-sm-6 ">
			<a ng-click="back()" class="btn btn-small btn-info">{{ 'Home' | translate}}</a>
		</div>
		<div class="col-xs-12 col-sm-6 ">
			<div class="float-right">
				{{ 'ciao' | translate}} {{userSession.username}} ({{userSession.type}}) <a ng-click="logout()" class="btn btn-small btn-warning">{{ 'logout' | translate}}</a>
			</div>
		</div>



		<h1>{{ 'profilo_utente' | translate}} - {{user.username}}</h1>

		<div class="control-group" ng-if="userSession.type=='COMUNE_PALERMO' && user.type!='COMUNE_PALERMO'">
			<div class="controls">
				<a ng-click="showTab('PROFILO')" class="btn btn-small" ng-class="{ 'btn-info' : tab == 'PROFILO'}">{{ 'PROFILO' |translate}}</a> <a ng-if="!isInstitutional()" ng-click="showTab('CARTELLE_ASSOCIATE')"
					class="btn btn-small" ng-class="{ 'btn-info' : tab == 'CARTELLE_ASSOCIATE'}">{{ 'CARTELLE_ASSOCIATE' | translate}}</a>
			</div>
		</div>

		<br>
		<div ng-show="tab=='PROFILO'">
			<form name="UPDATE_FORM" novalidate="novalidate" class="form-horizontal">
				<div class="control-group">
					<label class="control-label" for="username">{{ 'username' | translate}}:</label> {{user.username}}
				</div>
				<div class="control-group">
					<label class="control-label" for="user_type">{{ 'user_type' | translate}}</label> 
					
					
					<select ng-if="userSession.type=='COMUNE_PALERMO'" class="form-control" ng-model="user.type" ng-options="option for option in data.availableOptions track by option">

					</select> 
					
					<span ng-if="userSession.type!='COMUNE_PALERMO'">{{user.type}}</span>

				</div>
				<div class="control-group">
					<label class="control-label">{{ 'password' | translate}}:</label>

					<div class="controls">
						<input type="password" ng-model="user.new_password" />
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="repeatPassword">{{ 'repeat_password' | translate}}:</label>

					<div class="controls">
						<input type="password" id="repeatPassword" ng-model="user.new_repeatPassword" />
					</div>
				</div>

				<div class="control-group">
					<label class="control-label">{{ 'nome' | translate}}:</label>

					<div class="controls">
						<input type="text" ng-model="user.nome" />
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">{{ 'cognome' | translate}}:</label>

					<div class="controls">
						<input type="text" ng-model="user.cognome" />
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">{{ 'email' | translate}}:</label>

					<div class="controls">
						<input type="email" ng-model="user.email" required />
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">{{ 'telefono' | translate}}:</label>

					<div class="controls">
						<input type="text" ng-model="user.telefono" required />
					</div>
				</div>

				<div class="control-group">
					<label class="control-label">{{ 'matricola' | translate}}:</label>

					<div class="controls">
						<input type="text" ng-model="user.matricola" />
					</div>
				</div>

				<div class="control-group" ng-show="user.type=='CPIA'">
					<label class="control-label">{{'postiDisponibili' | translate}}:</label>

					<div class="controls">
						<input type="text" ng-model="user.postiDisponibili" />
					</div>
				</div>

				<!--         {{user}} -->

				<div class="control-group">
					<div class="controls">
						<button ng-disabled="UPDATE_FORM.$invalid" ng-click="updateUser()" class="btn btn-small btn-success">{{ 'aggiorna' | translate}}</button>
					</div>
				</div>


			</form>
		</div>
		<div ng-show="tab=='CARTELLE_ASSOCIATE'">
			<!-- 			<div class="control-group"> -->
			<!-- 				<label class="control-label" >{{ -->
			<!-- 					'cartelleAssociate' | translate}}:</label> -->

			<!-- 				<div class="controls"> -->
			<!-- 					<input type="text" ng-model="user.elencoCartelleAssociate" /> -->
			<!-- 				</div> -->
			<!-- 			</div> -->


			<h2>{{ 'CARTELLE_ASSOCIATE' | translate}}</h2>
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th style="min-width: 80px;">{{ 'nome' | translate}}</th>
						<th style="min-width: 80px;">{{ 'cognome' | translate}}</th>
						<th style="min-width: 80px;">{{ 'alias' | translate}}</th>
						<th style="min-width: 80px;">{{ 'sesso' | translate}}</th>
						<th style="min-width: 80px;">{{ 'paese' | translate}}</th>
						<th style="min-width: 80px;">{{ 'cittadinanza' | translate}}</th>
						<th style="min-width: 80px;">{{ 'dataNascita' | translate}}</th>
						<th style="min-width: 80px;">{{ 'linguaMadre' | translate}}</th>
						<th style="width: 20px;">&nbsp;</th>
						<th style="width: 20px;">&nbsp;</th>
					</tr>
				</thead>
				<tbody>

					<tr ng-repeat="socialCard in elencoCartelleAss">

						<td>{{ socialCard.anagrafica.nome }}</td>
						<td>{{ socialCard.anagrafica.cognome }}</td>
						<td>{{ socialCard.anagrafica.alias }}</td>
						<td>{{ socialCard.anagrafica.sesso }}</td>
						<td>{{ socialCard.anagrafica.paese }}</td>
						<td>{{ socialCard.anagrafica.cittadinanza }}</td>
						<td>{{ socialCard.anagrafica.dataNascita | date:'dd-MM-yyyy' }}</td>
						<td>{{ socialCard.anagrafica.linguaMadre }}</td>

						<td><a ng-click="deassocia(socialCard.id)" class="btn btn-small btn-danger">{{ 'Rimuovi' | translate}}</a></td>

					</tr>
				</tbody>
			</table>
			<br>
			<h2>{{ 'CARTELLE_NON_ASSOCIATE' | translate}}</h2>
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th style="min-width: 80px;">{{ 'nome' | translate}}</th>
						<th style="min-width: 80px;">{{ 'cognome' | translate}}</th>
						<th style="min-width: 80px;">{{ 'alias' | translate}}</th>
						<th style="min-width: 80px;">{{ 'sesso' | translate}}</th>
						<th style="min-width: 80px;">{{ 'paese' | translate}}</th>
						<th style="min-width: 80px;">{{ 'cittadinanza' | translate}}</th>
						<th style="min-width: 80px;">{{ 'dataNascita' | translate}}</th>
						<th style="min-width: 80px;">{{ 'linguaMadre' | translate}}</th>
						<th style="width: 20px;">&nbsp;</th>
						<th style="width: 20px;">&nbsp;</th>
					</tr>
				</thead>
				<tbody>

					<tr ng-repeat="socialCard in elencoCartelleNonAss">

						<td>{{ socialCard.anagrafica.nome }}</td>
						<td>{{ socialCard.anagrafica.cognome }}</td>
						<td>{{ socialCard.anagrafica.alias }}</td>
						<td>{{ socialCard.anagrafica.sesso }}</td>
						<td>{{ socialCard.anagrafica.paese }}</td>
						<td>{{ socialCard.anagrafica.cittadinanza }}</td>
						<td>{{ socialCard.anagrafica.dataNascita | date:'dd-MM-yyyy'}}</td>
						<td>{{ socialCard.anagrafica.linguaMadre }}</td>
						<td><a ng-click="associa(socialCard.id)" class="btn btn-small btn-success">{{ 'Associa' | translate}}</a></td>
					</tr>
				</tbody>
			</table>

		</div>
		<br> <br>

	</div>

	<br> <br>

	<div class="control-group" ng-if="userSession.type=='COMUNE_PALERMO'">
		<div class="controls">
			<a ng-click="back()" class="btn btn-small btn-info">{{ 'userList' | translate}}</a>
		</div>
	</div>

</div>